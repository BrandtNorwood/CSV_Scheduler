<!--Writen by Niko Norwood 03/04/2024-->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="parser.js"></script>
        <script src="generator.js"></script>
        <script src="editer.js"></script>
        <link rel="stylesheet" href="defaultLook.css">
    </head>
    <body>

        <ul>
            <li><button onclick="timeSkipButton(false);"> < </button></li>
            <li><button onclick="timeSkipButton(true);"> > </button></li>
            <li id="weekDisplay"><li>
            <li style="float:right;" id="editButton"><button onclick="loadEditor()"> Edit </button></li>
            <li style="float:right; display: none;" id="genButton"><button onclick="loadGenerator()"> Generate </button></li>    
        </ul>

        <div id="downloadDiv" style="padding-left: 44%; padding-top:15%;"> 
            <a>Please Select Valid .CSV file</a><br>
            <input type="file" id="fileInput" name="filename">
        </div>

        <div id="edit" style="display: none;">
            <ul style="background-color: var(--secondary);">
                <li><select id="empSelect" style="margin: 5%;"></select></li>
                <li><button>Add Employee</button></li>
                <li><button>Remove Employee</button></li>
            </ul>

            <div id="previewPane"></div>
        </div>

        <div id = "outputPane" style="display: none;"></div> <!--This is where the output will be displayed when generated-->

        <script>
            //Global Variables
            var genDate = AutoTimeSkip(new Date(Date.now())); //Stores selected week start date 
            var fileData = new Array(); //Used to store current state of the file
            //var genData = new Array();  //Used to store current weeks data

            //Loads the selected week into the navbar on load
            loadWeekDisplay();

            //Listens for a file to be uploaded on pageload
            document.getElementById('fileInput').addEventListener('change', function selectedFileChanged() {
                loadPage(this.files[0]);
            });

            document.getElementById("empSelect").addEventListener("change", (event) => {
                loadPreview();
            });
        </script>
        

    </body>
</html>
